# ğŸ—ï¸ Diagrama de Arquitectura de Microservicios

## Flujo de Peticiones

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      CLIENTE (Frontend)                          â”‚
â”‚                     (React + Vite @ 5173)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â”‚ HTTP Requests
                          â”‚ /api/auth/*
                          â”‚ /api/invoices/*
                          â”‚ /api/clients/*
                          â”‚ /api/companies/*
                          â”‚ /api/subscriptions/*
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    API GATEWAY (Puerto 3000)                     â”‚
â”‚                   (http-proxy-middleware)                        â”‚
â”‚                                                                   â”‚
â”‚  â”œâ”€ /api/auth/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Auth Service (3003)             â”‚
â”‚  â”œâ”€ /api/subscriptions/* â”€â”€â”€â”€â”€â–º Subscription Service (3006)     â”‚
â”‚  â”œâ”€ /api/invoices/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Invoice Service (3002)          â”‚
â”‚  â”œâ”€ /api/clients/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Invoice Service (3002)          â”‚
â”‚  â””â”€ /api/companies/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Invoice Service (3002)          â”‚
â”‚                                                                   â”‚
â”‚  Middleware: helmet, CORS, compression, morgan, rate-limit      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                    â”‚                    â”‚
         â”‚                    â”‚                    â”‚
    PORT 3003            PORT 3006            PORT 3002
         â”‚                    â”‚                    â”‚
         â–¼                    â–¼                    â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   AUTH      â”‚   â”‚  SUBSCRIPTION   â”‚   â”‚   INVOICE    â”‚
    â”‚  SERVICE    â”‚   â”‚    SERVICE      â”‚   â”‚   SERVICE    â”‚
    â”‚             â”‚   â”‚                 â”‚   â”‚              â”‚
    â”‚ Endpoints:  â”‚   â”‚ Endpoints:      â”‚   â”‚ Endpoints:   â”‚
    â”‚ â€¢ register  â”‚   â”‚ â€¢ POST /        â”‚   â”‚ â€¢ GET /      â”‚
    â”‚ â€¢ login     â”‚   â”‚ â€¢ GET /:id      â”‚   â”‚ â€¢ POST /     â”‚
    â”‚ â€¢ refresh   â”‚   â”‚ â€¢ PUT /cancel   â”‚   â”‚ â€¢ GET /stats â”‚
    â”‚ â€¢ logout    â”‚   â”‚ â€¢ PUT /react.   â”‚   â”‚ â€¢ GET /:id   â”‚
    â”‚ â€¢ me        â”‚   â”‚ â€¢ GET /plans    â”‚   â”‚ â€¢ PUT /:id   â”‚
    â”‚ â€¢ forgot-pw â”‚   â”‚ â€¢ GET /user     â”‚   â”‚ â€¢ DELETE /:idâ”‚
    â”‚ â€¢ reset-pw  â”‚   â”‚ â€¢ GET /methods  â”‚   â”‚ â€¢ GET /pdf   â”‚
    â”‚ â€¢ verify    â”‚   â”‚                 â”‚   â”‚ â€¢ GET /xml   â”‚
    â”‚             â”‚   â”‚ Webhooks:       â”‚   â”‚ â€¢ POST /send â”‚
    â”‚ State: âœ…   â”‚   â”‚ â€¢ stripe        â”‚   â”‚              â”‚
    â”‚ 8/8 (100%)  â”‚   â”‚ â€¢ aeat          â”‚   â”‚ State: âš ï¸    â”‚
    â”‚             â”‚   â”‚                 â”‚   â”‚ 8/9 (89%)    â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜   â”‚ State: âš ï¸       â”‚   â”‚              â”‚
           â”‚          â”‚ 5/9 (56%)       â”‚   â”‚              â”‚
           â”‚          â”‚ 4 stubs         â”‚   â”‚ Clients:     â”‚
           â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â€¢ GET /      â”‚
           â”‚                   â”‚            â”‚ â€¢ POST /     â”‚
           â”‚                   â”‚            â”‚ â€¢ GET /:id   â”‚
           â”‚                   â”‚            â”‚ â€¢ PUT /:id   â”‚
           â”‚                   â”‚            â”‚ â€¢ DELETE/:id â”‚
           â”‚                   â”‚            â”‚              â”‚
           â”‚                   â”‚            â”‚ State: âœ…    â”‚
           â”‚                   â”‚            â”‚ 5/5 (100%)   â”‚
           â”‚                   â”‚            â”‚              â”‚
           â”‚                   â”‚            â”‚ Companies:   â”‚
           â”‚                   â”‚            â”‚ â€¢ GET /me    â”‚
           â”‚                   â”‚            â”‚ â€¢ POST /     â”‚
           â”‚                   â”‚            â”‚ â€¢ PUT /me    â”‚
           â”‚                   â”‚            â”‚              â”‚
           â”‚                   â”‚            â”‚ State: âœ…    â”‚
           â”‚                   â”‚            â”‚ 3/3 (100%)   â”‚
           â”‚                   â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                   â”‚
           â–¼                   â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  PRISMA ORM â”‚   â”‚   DATABASE      â”‚
    â”‚  (Shared)   â”‚   â”‚  (PostgreSQL)   â”‚
    â”‚             â”‚   â”‚                 â”‚
    â”‚ â€¢ Users     â”‚   â”‚ 6 tablas        â”‚
    â”‚ â€¢ Invoices  â”‚   â”‚ (normalized)    â”‚
    â”‚ â€¢ Clients   â”‚   â”‚                 â”‚
    â”‚ â€¢ Companies â”‚   â”‚ Connection pool â”‚
    â”‚ â€¢ Subs      â”‚   â”‚                 â”‚
    â”‚ â€¢ Webhooks  â”‚   â”‚                 â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Tabla de Path Rewriting

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PATH REWRITING EN GATEWAY                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Prefijo       â”‚  Destino        â”‚  Rewrite Rule   â”‚  Resultado   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  /api/auth/*   â”‚  localhost:3003 â”‚  ^/auth â†’ ""    â”‚  /login      â”‚
â”‚  /api/subs/*   â”‚  localhost:3006 â”‚  ^/subs â†’ ""    â”‚  /plans      â”‚
â”‚  /api/inv/*    â”‚  localhost:3002 â”‚  ^/inv â†’ /api   â”‚  /api/inv/:idâ”‚
â”‚  /api/cli/*    â”‚  localhost:3002 â”‚  ^/cli â†’ /api   â”‚  /api/clientsâ”‚
â”‚  /api/comp/*   â”‚  localhost:3002 â”‚  ^/comp â†’ /api  â”‚  /api/comp   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Flujo de AutenticaciÃ³n

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Cliente intenta login             â”‚
â”‚  POST /api/auth/login               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Gateway recibe request            â”‚
â”‚   Proxy â†’ Auth Service (3003)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Auth Service procesa              â”‚
â”‚   â€¢ Valida credenciales             â”‚
â”‚   â€¢ Consulta BD (User)              â”‚
â”‚   â€¢ Genera JWT tokens               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Response al Cliente               â”‚
â”‚   {                                 â”‚
â”‚     accessToken: "jwt...",          â”‚
â”‚     refreshToken: "jwt..."          â”‚
â”‚   }                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Cliente guarda tokens             â”‚
â”‚   â€¢ localStorage (accessToken)      â”‚
â”‚   â€¢ localStorage (refreshToken)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Peticiones futuras incluyen token â”‚
â”‚   Headers: {                        â”‚
â”‚     Authorization: "Bearer jwt..."  â”‚
â”‚   }                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ§© Estructura de Middleware por Servicio

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        AUTH SERVICE MIDDLEWARE              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                             â”‚
â”‚  POST /register                             â”‚
â”‚  â”œâ”€ idempotencyMiddleware                  â”‚
â”‚  â”œâ”€ validateBody                           â”‚
â”‚  â””â”€ AuthController.register()              â”‚
â”‚                                             â”‚
â”‚  POST /login                                â”‚
â”‚  â”œâ”€ validateBody                           â”‚
â”‚  â””â”€ AuthController.login()                 â”‚
â”‚                                             â”‚
â”‚  GET /me                                    â”‚
â”‚  â”œâ”€ authenticateToken (BD lookup)          â”‚
â”‚  â””â”€ AuthController.me()                    â”‚
â”‚                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      INVOICE SERVICE MIDDLEWARE             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                             â”‚
â”‚  POST /invoices                             â”‚
â”‚  â”œâ”€ idempotencyMiddleware                  â”‚
â”‚  â””â”€ InvoiceController.create()             â”‚
â”‚                                             â”‚
â”‚  GET /invoices/:id                         â”‚
â”‚  â”œâ”€ authenticateToken (JWT only)          â”‚
â”‚  â””â”€ InvoiceController.getById()            â”‚
â”‚                                             â”‚
â”‚  PUT /invoices/:id                         â”‚
â”‚  â”œâ”€ idempotencyMiddleware                  â”‚
â”‚  â””â”€ InvoiceController.update()             â”‚
â”‚                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    SUBSCRIPTION SERVICE MIDDLEWARE          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                             â”‚
â”‚  POST /subscriptions                        â”‚
â”‚  â”œâ”€ idempotencyMiddleware                  â”‚
â”‚  â””â”€ SubscriptionController.create()        â”‚
â”‚                                             â”‚
â”‚  PUT /:id/cancel                            â”‚
â”‚  â””â”€ SubscriptionController.cancel()        â”‚
â”‚                                             â”‚
â”‚  PUT /:id/reactivate âœ… VERIFIED           â”‚
â”‚  â””â”€ SubscriptionController.reactivate()    â”‚
â”‚  [Stub eliminado, controlador Ãºnico]       â”‚
â”‚                                             â”‚
â”‚  GET /:id (âš ï¸ PENDING)                     â”‚
â”‚  GET /plans (âš ï¸ PENDING)                   â”‚
â”‚  GET /user (âš ï¸ PENDING)                    â”‚
â”‚  GET /:id/payment-methods (âš ï¸ PENDING)     â”‚
â”‚                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ˆ Cobertura de Endpoints

```
TOTAL: 34 endpoints | Implementados: 29 | Pendientes: 5

Auth Service       â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (8/8)
Invoice Invoices   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘ 89% (8/9)    [PDF pendiente]
Invoice Clients    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (5/5)
Invoice Companies  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (3/3)
Subscription Subs  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 43% (3/7)    [4 stubs]
Subscription Web   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (2/2)

Global Coverage:   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘ 85% (29/34)
```

---

## ğŸ” Estado de Seguridad por Servicio

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              MATRIZ DE SEGURIDAD                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Servicio        â”‚ JWT Validation â”‚ DB Lookup      â”‚ Cookiesâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Auth Service     â”‚ âœ… SÃ­          â”‚ âœ… SÃ­          â”‚ âœ… SÃ­  â”‚
â”‚ Invoice Service  â”‚ âœ… SÃ­          â”‚ âŒ No          â”‚ âœ… SÃ­  â”‚
â”‚ Subscription Svc â”‚ âš ï¸ Parcial     â”‚ âŒ No          â”‚ âŒ No  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Inconsistencia   â”‚ BAJA           â”‚ MEDIA          â”‚ MEDIA  â”‚
â”‚ Risk Level       â”‚ ğŸŸ¢ LOW         â”‚ ğŸŸ¡ MEDIUM      â”‚ ğŸŸ¡ MED â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âš ï¸ RecomendaciÃ³n: Estandarizar middleware compartido
   (Ver MIDDLEWARE_STANDARDIZATION.md)
```

---

**Generado:** 17 de octubre de 2025
