# ===========================================
# üåç VARIABLES DE ENTORNO - FACTURACI√ìN AUT√ìNOMOS
# ===========================================

# üóÑÔ∏è DATABASE
DATABASE_URL="postgresql://postgres:${POSTGRES_PASSWORD:-secure_dev_pass}@localhost:5432/facturacion_dev"
POSTGRES_PASSWORD=${POSTGRES_PASSWORD:-secure_dev_pass}

# üîê AUTHENTICATION & JWT - ‚ö†Ô∏è CR√çTICO PARA SEGURIDAD
# ‚ö†Ô∏è OBLIGATORIO: NO USAR VALORES POR DEFECTO EN PRODUCCI√ìN
# Genera con: openssl rand -base64 32
JWT_ACCESS_SECRET=your-super-secret-jwt-access-key-change-in-production-minimum-32-chars
JWT_REFRESH_SECRET=your-super-secret-jwt-refresh-key-change-in-production-minimum-32-chars
SESSION_SECRET=your-super-secret-session-key-change-in-production-minimum-32-chars

# Configuraci√≥n JWT adicional
JWT_ISSUER=facturacion-autonomos
JWT_AUDIENCE=facturacion-autonomos
JWT_ACCESS_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

NEXTAUTH_URL="http://localhost:3000"
NEXTAUTH_SECRET=your_nextauth_secret_here_minimum_32_characters_long

# üìß EMAIL
SMTP_HOST="smtp.gmail.com"
SMTP_PORT=587
SMTP_USER="tu-email@gmail.com"
SMTP_PASS="tu-password-app"

# üèõÔ∏è AEAT API
AEAT_API_URL="https://prewww1.aeat.es/wlpl/TIKE-CONT/"
AEAT_NIF="12345678A"
AEAT_TEST_MODE=true

# üìú CERTIFICADOS DIGITALES - FIRMA XML
# Ruta al certificado P12/PFX para firma digital
CERTIFICATE_PATH="/path/to/certificate.p12"
# ‚ö†Ô∏è MANTENER SECRETO EN PRODUCCI√ìN
CERTIFICATE_PASSWORD="certificate-password"
# Alternativos PEM
CERTIFICATE_PEM_PATH="/path/to/certificate.pem"
PRIVATE_KEY_PEM_PATH="/path/to/private-key.pem"

# üîó WEBHOOK
WEBHOOK_SECRET="webhook-secret-super-seguro"

# üåç ENVIRONMENT & PORTS
NODE_ENV="development"
PORT=3000

# üîß SERVICIOS DEL MONOREPO
AUTH_SERVICE_PORT=3003
INVOICE_SERVICE_PORT=3002
SUBSCRIPTION_SERVICE_PORT=3006
API_GATEWAY_PORT=3001
XML_TRANSFORMER_PORT=3004
WEB_PORT=5173

# ‚ö†Ô∏è DESARROLLO - Timestamp Service Stub (SOLO DESARROLLO)
ENABLE_TIMESTAMP_STUB=true

# üî¥ REDIS CONFIGURATION
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# üîÑ IDEMPOTENCY CONFIGURATION
IDEMPOTENCY_KEY_TTL_SECONDS=86400  # 24 horas
IDEMPOTENCY_CACHE_TTL_SECONDS=3600  # 1 hora en Redis
IDEMPOTENCY_ENABLED=true

# üç™ COOKIE CONFIGURATION
COOKIE_DOMAIN=localhost

# üåê CORS CONFIGURATION
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# üîó SERVICE URLs (for inter-service communication)
AUTH_SERVICE_URL=http://localhost:3003
INVOICE_SERVICE_URL=http://localhost:3002
TAX_CALCULATOR_URL=http://localhost:3004
API_GATEWAY_URL=http://localhost:3001

# üìä ANALYTICS

# üîç LOGS
LOG_LEVEL="info"

# üöÄ FEATURES FLAGS
FEATURE_OCR_ENABLED=true
FEATURE_PEPPOL_ENABLED=false
FEATURE_ADVANCED_REPORTS=true

# üé® GRAFANA (para desarrollo)
GRAFANA_ADMIN_PASSWORD=admin_dev_password

# üìä MONITORING
LOG_LEVEL=debug
LOG_FORMAT=pretty
