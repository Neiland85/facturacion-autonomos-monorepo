# Auth Service - Variables de Entorno
# IMPORTANTE: Renombrar a .env y cambiar todos los valores en producción

# ===========================================
# CONFIGURACIÓN DEL SERVIDOR
# ===========================================
NODE_ENV=development
PORT=3001
HOST=0.0.0.0

# ===========================================
# REDIS - ALMACÉN DE SESIONES Y CACHE
# ===========================================
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_KEY_PREFIX=facturacion_auth:

# ===========================================
# SECRETOS JWT - ¡CAMBIAR EN PRODUCCIÓN!
# ===========================================
# Generar con: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_ACCESS_SECRET=CAMBIAR_ESTE_SECRET_EN_PRODUCCION_64_CARACTERES_MINIMO_SUPER_SEGURO
JWT_REFRESH_SECRET=CAMBIAR_ESTE_OTRO_SECRET_EN_PRODUCCION_DIFERENTE_AL_ANTERIOR

# ===========================================
# SESSION SECRET - ¡CAMBIAR EN PRODUCCIÓN!
# ===========================================
SESSION_SECRET=CAMBIAR_ESTE_SESSION_SECRET_EN_PRODUCCION_64_CARACTERES_MINIMO

# ===========================================
# CONFIGURACIÓN CORS
# ===========================================
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001,http://localhost:3002
CORS_CREDENTIALS=true

# ===========================================
# CONFIGURACIÓN DE SEGURIDAD
# ===========================================
# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
AUTH_RATE_LIMIT_MAX=5

# Session Configuration
SESSION_MAX_AGE=86400000
SESSION_SECURE=false
SESSION_SAME_SITE=strict

# Cookie Configuration
COOKIE_SECURE=false
COOKIE_HTTP_ONLY=true
COOKIE_SAME_SITE=strict

# JWT Expiration
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d

# ===========================================
# CONFIGURACIÓN 2FA
# ===========================================
TOTP_SERVICE_NAME=Facturacion_Autonomos
TOTP_ISSUER=facturacion-autonomos.com
TOTP_WINDOW=2

# ===========================================
# CONFIGURACIÓN DE LOGGING
# ===========================================
LOG_LEVEL=debug
LOG_FORMAT=combined
LOG_FILE=auth-service.log

# ===========================================
# CONFIGURACIÓN DE BASE DE DATOS
# ===========================================
# Para futuro uso con Prisma
DATABASE_URL=postgresql://username:password@localhost:5432/facturacion_autonomos

# ===========================================
# CONFIGURACIÓN DE EMAIL (Futuro)
# ===========================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
EMAIL_FROM=noreply@facturacion-autonomos.com

# ===========================================
# CONFIGURACIÓN DE MONITOREO (Opcional)
# ===========================================
SENTRY_DSN=
NEW_RELIC_LICENSE_KEY=
DATADOG_API_KEY=

# ===========================================
# CONFIGURACIÓN DE DESARROLLO
# ===========================================
ENABLE_DEBUG_ROUTES=true
ENABLE_SWAGGER=true
ENABLE_PLAYGROUND=true

# ===========================================
# CONFIGURACIÓN DE PRODUCCIÓN
# ===========================================
TRUST_PROXY=false
COMPRESSION_LEVEL=6
HELMET_CSP_DIRECTIVES=default-src 'self'
