# Tax Calculator Service Environment Variables
# Copy this file to .env and fill in your actual values

# Server Configuration
PORT=3004
NODE_ENV=development
HOST=0.0.0.0

# AEAT (Agencia Tributaria Espa√±ola) Configuration
AEAT_API_URL=https://www.agenciatributaria.es
AEAT_PUBLIC_KEY=your-aeat-public-key-here
AEAT_PRIVATE_KEY=your-aeat-private-key-here
AEAT_CERTIFICATE_PATH=./certs/aeat.crt
AEAT_KEY_PATH=./certs/aeat.key

# Webhook Configuration
WEBHOOK_SECRET=your-webhook-secret-here-minimum-32-characters
AEAT_WEBHOOK_SECRET=your-aeat-webhook-hmac-secret-here-minimum-32-characters
WEBHOOK_ALLOWED_IPS=127.0.0.1,::1,192.168.1.0/24

# Database Configuration
DATABASE_URL="postgresql://username:password@localhost:5432/tributariapp_tax"

# Service URLs
AUTH_SERVICE_URL=http://localhost:3003
INVOICE_SERVICE_URL=http://localhost:3002
API_GATEWAY_URL=http://localhost:3001

# CORS Configuration
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001,http://localhost:3002

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=50

# Tax Calculation Settings
TAX_YEAR=2024
IVA_RATE=21
IRPF_RATE=19
DEFAULT_CURRENCY=EUR

# Logging
LOG_LEVEL=info
LOG_FILE=tax-calculator.log

# Monitoring
SENTRY_DSN=
NEW_RELIC_LICENSE_KEY=

# Cache Configuration
REDIS_URL=redis://localhost:6379
CACHE_TTL=3600

# File Paths
TEMPLATES_PATH=./templates
TEMP_PATH=./temp

# JWT Configuration
JWT_SECRET=your-jwt-secret-here-minimum-32-characters
JWT_ISSUER=https://your-domain.com
JWT_AUDIENCE=your-app-audience

# Circuit Breaker Configuration
CB_FAILURE_THRESHOLD=5
CB_SUCCESS_THRESHOLD=2
CB_TIMEOUT=5000

# CORS Configuration (additional)
CORS_ORIGIN=http://localhost:3000,http://localhost:3001,http://localhost:3002

# Observability Configuration
OTEL_ENABLED=true
OTEL_SERVICE_NAME=api-tax-calculator
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318

# Frontend Configuration
FRONTEND_URL=http://localhost:3000
